
# ğŸ®ã€Šè¿™äº›å¹´æˆ‘ä»¬è¿½è¿‡çš„AIæ‹äººã€‹å®Œæ•´æ¸¸æˆç­–åˆ’æ¡ˆ

> **ç‰ˆæœ¬**: v1.0  
> **æ—¥æœŸ**: 2026-02-28  
> **å¹³å°**: å¾®ä¿¡å°æ¸¸æˆ / æŠ–éŸ³å°æ¸¸æˆ  
> **æŠ€æœ¯æ ˆ**: uni-app + uniCloud + Doubao-Seed-2.0-mini + uni-ad  
> **å˜ç°æ¨¡å¼**: çº¯å¹¿å‘Šå˜ç°ï¼ˆæ¿€åŠ±è§†é¢‘ä¸ºä¸»ï¼‰

---

## ç›®å½•

1. [æ¸¸æˆæ¦‚è¿°](#1-æ¸¸æˆæ¦‚è¿°)
2. [æ ¸å¿ƒç©æ³•è®¾è®¡](#2-æ ¸å¿ƒç©æ³•è®¾è®¡)
3. [è§’è‰²ç³»ç»Ÿ](#3-è§’è‰²ç³»ç»Ÿ)
4. [å…³ç³»é˜¶æ®µç³»ç»Ÿ](#4-å…³ç³»é˜¶æ®µç³»ç»Ÿ)
5. [æ•°å€¼ç³»ç»Ÿ](#5-æ•°å€¼ç³»ç»Ÿ)
6. [å­—æ•°ç»æµç³»ç»Ÿï¼ˆæ ¸å¿ƒå˜ç°ï¼‰](#6-å­—æ•°ç»æµç³»ç»Ÿæ ¸å¿ƒå˜ç°)
7. [AIå¯¹è¯ç³»ç»Ÿ](#7-aiå¯¹è¯ç³»ç»Ÿ)
8. [å‰§æƒ…äº‹ä»¶ç³»ç»Ÿ](#8-å‰§æƒ…äº‹ä»¶ç³»ç»Ÿ)
9. [å¹¿å‘Šå˜ç°ç³»ç»Ÿ](#9-å¹¿ï¿½ï¿½ï¿½å˜ç°ç³»ç»Ÿ)
10. [ç•Œé¢UIè®¾è®¡](#10-ç•Œé¢uiè®¾è®¡)
11. [æ•°æ®åº“è®¾è®¡ï¼ˆuniCloudï¼‰](#11-æ•°æ®åº“è®¾è®¡unicloud)
12. [æŠ€æœ¯æ¶æ„](#12-æŠ€æœ¯æ¶æ„)


---

## 1. æ¸¸æˆæ¦‚è¿°

### 1.1 æ¸¸æˆåç§°
**ã€Šè¿™äº›å¹´æˆ‘ä»¬è¿½è¿‡çš„AIæ‹äººã€‹**

### 1.2 ä¸€å¥è¯æè¿°
ä¸€æ¬¾ä»¥AIé©±åŠ¨çš„äº’åŠ¨æ‹çˆ±æ¨¡æ‹Ÿå°æ¸¸æˆï¼Œç©å®¶é€‰æ‹©å¼‚æ€§AIæ‹äººï¼Œé€šè¿‡è‡ªç”±èŠå¤©æ¨è¿›å…³ç³»ï¼Œç»å†ä»é™Œç”Ÿäººåˆ°ç™½å¤´å•è€çš„å®Œæ•´äººç”Ÿæ—…ç¨‹ã€‚

### 1.3 æ¸¸æˆç±»å‹
äº’åŠ¨å™äº‹ / æ‹çˆ±æ¨¡æ‹Ÿ / AIå¯¹è¯

### 1.4 ç›®æ ‡ç”¨æˆ·
- 18-35å²å¹´è½»ç”·å¥³
- å–œæ¬¢æ‹çˆ±å…»æˆã€æ–‡å­—å†’é™©æ¸¸æˆçš„ç”¨æˆ·
- å¯¹AIå¯¹è¯äº’åŠ¨æ„Ÿå…´è¶£çš„ç”¨æˆ·

### 1.5 æ ¸å¿ƒå–ç‚¹
| ç‰¹ç‚¹ | è¯´æ˜ |
|------|------|
| ğŸ¤– AIé©±åŠ¨å‰§æƒ… | è°ƒç”¨Doubao-Seed-2.0-miniå¤§æ¨¡å‹ï¼Œæ¯æ¬¡å¯¹è¯éƒ½ç‹¬ä¸€æ— äºŒ |
| ğŸ’• å®Œæ•´æ‹çˆ±äººç”Ÿ | ä»é™Œç”Ÿäººâ†’æ‹äººâ†’ç»“å©šâ†’ç”Ÿå­â†’ç™½å¤´å•è€çš„å®Œæ•´ç”Ÿå‘½çº¿ |
| ğŸ­ å¤šè§’è‰²å¤šæ€§æ ¼ | å¤šä¸ªæ€§æ ¼è¿¥å¼‚çš„AIæ‹äººå¯ä¾›é€‰æ‹© |
| âœï¸ è‡ªç”±è¾“å…¥ | ä¸æ˜¯é€‰æ‹©é¢˜ï¼Œç©å®¶è‡ªç”±æ‰“å­—ä¸AIæ‹äººäº’åŠ¨ |
| ğŸ“– è§„åˆ™çº¦æŸå‰§æƒ… | æœ‰ç›®æ ‡ã€æœ‰æ•°å€¼ã€æœ‰é˜¶æ®µï¼Œä¸æ˜¯æ— èŠé—²èŠ |

---

## 2. æ ¸å¿ƒç©æ³•è®¾è®¡

### 2.1 æ¸¸æˆæµç¨‹æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¿›å…¥æ¸¸æˆ     â”‚
â”‚  é€‰æ‹©ç©å®¶æ€§åˆ«  â”‚ â† ç”·/å¥³
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å±•ç¤ºAIæ‹äººåˆ—è¡¨â”‚ â† å¼‚æ€§æ‹äººå›¾ç‰‡+ç®€ä»‹
â”‚ é€‰æ‹©ä¸€ä¸ªæ‹äºº   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿›å…¥å¯¹è¯ç•Œé¢   â”‚ â† å…¨å±æ‹äººå½¢è±¡ + åº•éƒ¨èŠå¤©æ¡†
â”‚ è‡ªç”±èŠå¤©äº’åŠ¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å…³ç³»é˜¶æ®µæ¨è¿›ï¼ˆç”±å¥½æ„Ÿåº¦é©±åŠ¨ï¼‰                      â”‚
â”‚                                                â”‚
â”‚ é™Œç”Ÿäºº â†’ è®¤è¯† â†’ ç†Ÿæ‚‰ â†’ å¥½å‹ â†’ æš§æ˜§ â†’ è¡¨ç™½       â”‚
â”‚ â†’ æ‹äºº â†’ çƒ­æ‹ â†’ æ±‚å©š â†’ ç»“å©š â†’ æ–°å©š â†’ ç”Ÿå­       â”‚
â”‚ â†’ è‚²å„¿ â†’ 10å¹´å©šå§» â†’ 20å¹´å©šå§» â†’ 30å¹´å©šå§»         â”‚
â”‚ â†’ é‡‘å©š(50å¹´) â†’ ç™½å¤´å•è€ / AIæ‹äººæ­»äº¡             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‹äººæ­»äº¡/é€šå…³  â”‚
â”‚ å¯é‡æ–°é€‰æ‹©æ‹äºº  â”‚ â† ä¿ç•™ç©å®¶æ¡£æ¡ˆï¼Œå¼€å¯æ–°æ‹çˆ±
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒå¾ªç¯

```
è¾“å…¥æ–‡å­— â†’ æ¶ˆè€—å­—æ•° â†’ AIå›å¤ï¼ˆæ¶ˆè€—å­—æ•°ï¼‰ â†’ å¥½æ„Ÿåº¦å˜åŒ– â†’ è§¦å‘äº‹ä»¶/é˜¶æ®µæ¨è¿›
    â†‘                                                           â”‚
    â””â”€â”€â”€â”€â”€â”€ å­—æ•°ä¸è¶³ â†’ è§‚çœ‹æ¿€åŠ±è§†é¢‘å¹¿å‘Š â†’ è·å¾—å­—æ•° â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 ç©å®¶è¡Œä¸ºè§„åˆ™

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| è‡ªç”±è¾“å…¥ | ç©å®¶å¯ä»¥è¾“å…¥ä»»ä½•å†…å®¹ä¸AIæ‹äººå¯¹è¯ |
| å­—æ•°æ¶ˆè€— | ç©å®¶æ¯æ¬¡å‘é€æ¶ˆè€—å¯¹åº”å­—æ•°ï¼ŒAIå›å¤ä¹Ÿæ¶ˆè€—å­—æ•° |
| å¥½æ„Ÿåº¦å˜åŒ– | æ¯è½®å¯¹è¯åæ ¹æ®AIåˆ¤æ–­è°ƒæ•´å¥½æ„Ÿåº¦ï¼ˆ+/- 1~5åˆ†ï¼‰ |
| é˜¶æ®µæ¨è¿› | å¥½æ„Ÿåº¦è¾¾åˆ°é˜ˆå€¼ + æ»¡è¶³æ¡ä»¶ â†’ è§¦å‘é˜¶æ®µå‰§æƒ… â†’ è¿›å…¥ä¸‹ä¸€é˜¶æ®µ |
| é˜¶æ®µå›é€€ | ä¸¥é‡è´Ÿé¢è¡Œä¸ºå¯èƒ½å¯¼è‡´å¥½æ„Ÿåº¦å¤§å¹…ä¸‹é™ï¼Œé˜¶æ®µå›é€€ |
| ä¸­é€”æ¢äºº | ç©å®¶å¯æ”¾å¼ƒå½“å‰æ‹äººé€‰æ‹©æ–°æ‹äººï¼Œéœ€è§‚çœ‹3æ¬¡å¹¿å‘Š |
| æ­»äº¡ç»“å±€ | åˆ°è¾¾æœ€ç»ˆé˜¶æ®µæˆ–è§¦å‘ç‰¹æ®Šäº‹ä»¶ï¼Œæ‹äººå»ä¸–ï¼Œå¯é‡æ–°å¼€å§‹ |

---

## 3. è§’è‰²ç³»ç»Ÿ

### 3.1 ç©å®¶è§’è‰²
- è¿›å…¥æ¸¸æˆé¦–å…ˆé€‰æ‹©æ€§åˆ«ï¼š**ç”·æ€§** / **å¥³æ€§**
- å¯è®¾ç½®æ˜µç§°ï¼ˆé»˜è®¤"æ—…äºº"ï¼‰
- æ— å›ºå®šå½¢è±¡ï¼ˆç¬¬ä¸€äººç§°è§†è§’ï¼‰

### 3.2 å¥³æ€§AIæ‹äººï¼ˆä¾›ç”·æ€§ç©å®¶é€‰æ‹©ï¼‰

| ç¼–å· | åå­— | æ€§æ ¼æ ‡ç­¾ | å¤–è¡¨é£æ ¼ | äººè®¾ç®€ä»‹ |
|------|------|---------|---------|---------|
| F01 | è‹æ™šæ™´ | æ¸©æŸ”çŸ¥æ€§ | é•¿å‘æ–‡è‰ºå¥³é’å¹´ | å›¾ä¹¦é¦†å¶é‡çš„æ–‡å­¦ç³»ç ”ç©¶ç”Ÿï¼Œè¯´è¯æ¸©æŸ”ï¼Œå–œæ¬¢è¯—å’Œè¿œæ–¹ |
| F02 | æ—å°å¤ | æ´»æ³¼å¼€æœ— | çŸ­å‘è¿åŠ¨å°‘å¥³ | éš”å£å…¬å¸çš„æ´»åŠ›å°‘å¥³ï¼Œçƒ­çˆ±æˆ·å¤–è¿åŠ¨ï¼Œç¬‘å£°å¾ˆæ²»æ„ˆ |
| F03 | é™ˆæ€é›¨ | é«˜å†·å‚²å¨‡ | é»‘é•¿ç›´å¾¡å§ | çŸ¥åå¾‹å¸ˆäº‹åŠ¡æ‰€çš„å®ä¹ å¾‹å¸ˆï¼Œè¡¨é¢å†·æ·¡å†…å¿ƒæŸ”è½¯ |
| F04 | ç™½é¹¿é¸£ | å¤çµç²¾æ€ª | åŒé©¬å°¾å¯çˆ±ç³» | è‡ªåª’ä½“åšä¸»ï¼Œé¬¼ç‚¹å­å¤šï¼Œå–œæ¬¢æ•´è›Šä½†å¾ˆæš–å¿ƒ |
| F05 | å¶çŸ¥ç§‹ | æ²‰é™æ¸©å©‰ | æ——è¢å¤å…¸ç¾äºº | èŒ¶é“è€å¸ˆï¼Œä¼˜é›…ä»å®¹ï¼Œå†…å¿ƒç»†è…»æ•æ„Ÿ |
| F06 | å‘¨æ˜Ÿæœˆ | é£’çˆ½å¹²ç»ƒ | èŒåœºç²¾è‹± | äº’è”ç½‘å…¬å¸äº§å“ç»ç†ï¼Œé›·å‰é£è¡Œï¼Œç†æ€§ä½†æ¸´æœ›æµªæ¼« |

### 3.3 ç”·æ€§AIæ‹äººï¼ˆä¾›å¥³æ€§ç©å®¶é€‰æ‹©ï¼‰

| ç¼–å· | åå­— | æ€§æ ¼æ ‡ç­¾ | å¤–è¡¨é£æ ¼ | äººè®¾ç®€ä»‹ |
|------|------|---------|---------|---------|
| M01 | é¡¾è¨€æ·± | æ¸©æ–‡å°”é›… | çœ¼é•œä¹¦ç”Ÿæ°” | å¤§å­¦å¿ƒç†å­¦è®²å¸ˆï¼Œå–„äºå€¾å¬ï¼Œæ¸©æŸ”åˆç»†å¿ƒ |
| M02 | é™†åŒ—è¾° | é˜³å…‰æš–ç”· | è¿åŠ¨å¥æœ—å‹ | å¥èº«æ•™ç»ƒï¼Œç¬‘å®¹æ¸©æš–ï¼Œåšé¥­å¾ˆå¥½åƒ |
| M03 | æ²ˆå¢¨ç™½ | å†·é¢è…¹é»‘ | è¥¿è£…ç²¾è‹± | æŠ•è¡Œç²¾è‹±ï¼Œè¯ä¸å¤šä½†å¥å¥åˆ°å¿ƒï¼Œå¶å°”æ¯’èˆŒ |
| M04 | æ±Ÿä¸€å¸† | æµªæ¼«æ–‡è‰º | éŸ³ä¹å°‘å¹´ | ç‹¬ç«‹éŸ³ä¹äººï¼Œä¼šå¼¹å‰ä»–å†™æ­Œï¼Œæµªæ¼«ä½†ä¸åˆ‡å®é™… |
| M05 | èµµæ˜è½© | å¿ çŠ¬æš–ç³» | é‚»å®¶å¤§ç”·å­© | å°å­¦è€å¸ˆï¼Œé˜³å…‰æ­£ç›´ï¼Œæœ‰ç‚¹ç¬¨æ‹™ä½†å¾ˆçœŸè¯š |
| M06 | éŸ©é€¸é£ | éœ¸é“æ€»è£ | é«˜å†·å•†åŠ¡ | å®¶æ—ä¼ä¸šç»§æ‰¿äººï¼Œå¤–è¡¨å†·é…·å†…å¿ƒå­¤ç‹¬ï¼Œéœ€è¦è¢«æ²»æ„ˆ |

### 3.4 è§’è‰²å›¾ç‰‡è¦æ±‚
- æ¯ä¸ªè§’è‰²æä¾› **5å¼ ** æœ¬åœ°å›¾ç‰‡ï¼š
  - 1å¼ å…¨èº«ç«‹ç»˜ï¼ˆé»˜è®¤å±•ç¤ºï¼‰
  - 1å¼ å¼€å¿ƒè¡¨æƒ…
  - 1å¼ å®³ç¾/è„¸çº¢è¡¨æƒ…
  - 1å¼ éš¾è¿‡/ç”Ÿæ°”è¡¨æƒ…
  - 1å¼ ç‰¹æ®Šåœºæ™¯ï¼ˆå¦‚å©šç¤¼ã€æ‹¥æŠ±ç­‰ï¼‰
- å›¾ç‰‡å°ºå¯¸ï¼š**750 Ã— 1334px**ï¼ˆç«–å±å…¨å±ï¼‰
- æ ¼å¼ï¼šWebPï¼ˆå‡å°åŒ…ä½“ç§¯ï¼‰

---

## 4. å…³ç³»é˜¶æ®µç³»ç»Ÿ

### 4.1 å®Œæ•´é˜¶æ®µå®šä¹‰

| é˜¶æ®µåºå· | é˜¶æ®µåç§° | å¥½æ„Ÿåº¦åŒºé—´ | æœ€ä½å¯¹è¯è½®æ¬¡ | é˜¶æ®µæè¿° | è§£é”äº‹ä»¶ |
|---------|---------|-----------|------------|---------|---------|
| 1 | é™Œç”Ÿäºº | 0-10 | 0 | åˆæ¬¡ç›¸é‡ï¼Œä¸äº†è§£å¯¹æ–¹ | å¼€åœºå‰§æƒ… |
| 2 | åˆè¯† | 11-25 | 10 | çŸ¥é“å¯¹æ–¹åå­—ï¼Œç®€å•äº¤æµ | "ä½ å«ä»€ä¹ˆåå­—"å‰§æƒ… |
| 3 | ç†Ÿæ‚‰ | 26-45 | 25 | ç»å¸¸èŠå¤©ï¼Œäº†è§£å½¼æ­¤ | äº¤æ¢è”ç³»æ–¹å¼äº‹ä»¶ |
| 4 | å¥½å‹ | 46-60 | 40 | æˆä¸ºå¥½æœ‹å‹ï¼Œäº’ç›¸ä¿¡ä»» | ä¸€èµ·å‡ºæ¸¸äº‹ä»¶ |
| 5 | æš§æ˜§ | 61-75 | 60 | å¿ƒç”Ÿå¥½æ„Ÿï¼Œæš—ç”Ÿæƒ…æ„« | ä¸ç»æ„çš„èº«ä½“æ¥è§¦äº‹ä»¶ |
| 6 | è¡¨ç™½ | 76-85 | 80 | é¼“èµ·å‹‡æ°”è¡¨è¾¾çˆ±æ„ | **è¡¨ç™½äº‹ä»¶**ï¼ˆå¯å¤±è´¥ï¼‰ |
| 7 | æ‹äºº | 86-100 | è¡¨ç™½æˆåŠŸå | æ­£å¼åœ¨ä¸€èµ· | ç¬¬ä¸€æ¬¡çº¦ä¼šäº‹ä»¶ |
| 8 | çƒ­æ‹ | 101-130 | +30è½® | ç”œèœœçƒ­æ‹æœŸ | çºªå¿µæ—¥/ç¬¬ä¸€æ¬¡åµæ¶äº‹ä»¶ |
| 9 | ç£¨åˆ | 131-155 | +25è½® | æ¿€æƒ…é€€å»ï¼Œå­¦ä¼šåŒ…å®¹ | å†·æˆ˜/å’Œå¥½äº‹ä»¶ |
| 10 | æ±‚å©š | 156-170 | +20è½® | å‘å¯¹æ–¹æ±‚å©š | **æ±‚å©šäº‹ä»¶**ï¼ˆå¯å¤±è´¥ï¼‰ |
| 11 | ç»“å©š | 171-185 | æ±‚å©šæˆåŠŸå | æ­¥å…¥å©šå§»æ®¿å ‚ | å©šç¤¼äº‹ä»¶ |
| 12 | æ–°å©š | 186-210 | +20è½® | æ–°å©šç”œèœœç”Ÿæ´» | èœœæœˆæ—…è¡Œäº‹ä»¶ |
| 13 | æ€€å­•/ç”Ÿå­ | 211-230 | +15è½® | è¿æ¥æ–°ç”Ÿå‘½ | å­©å­å‡ºç”Ÿäº‹ä»¶ |
| 14 | è‚²å„¿æœŸ | 231-260 | +20è½® | å¿™ç¢Œè€Œå¹¸ç¦çš„è‚²å„¿æ—¶å…‰ | å­©å­ç¬¬ä¸€æ¬¡å«çˆ¸å¦ˆ |
| 15 | 10å¹´å©šå§» | 261-300 | +30è½® | é”¡å©šï¼Œå¹³æ·¡æ˜¯çœŸ | å©šå§»å±æœº/é‡ç‡ƒæ¿€æƒ…äº‹ä»¶ |
| 16 | 20å¹´å©šå§» | 301-340 | +30è½® | ç“·å©šï¼Œå­©å­é•¿å¤§ | å­©å­é«˜è€ƒ/ç¦»å®¶ï¿½ï¿½ä»¶ |
| 17 | 30å¹´å©šå§» | 341-380 | +30è½® | çç å©šï¼Œç©ºå·¢æœŸ | é€€ä¼‘/é‡æ–°çº¦ä¼šäº‹ä»¶ |
| 18 | é‡‘å©š(50å¹´) | 381-400 | +30è½® | é‡‘å©šçºªå¿µ | é‡‘å©šåº†å…¸äº‹ä»¶ |
| 19 | ç™½å¤´å•è€ | 400+ | +20è½® | åœ†æ»¡ç»“å±€ | ç»ˆå±€åŠ¨ç”»/å›å¿†å½• |
| 20 | æ­»äº¡å‘Šåˆ« | ç‰¹æ®Šè§¦å‘ | éšæœº | æ‹äººç¦»ä¸– | å‘Šåˆ«äº‹ä»¶ |

### 4.2 é˜¶æ®µæ¨è¿›è§„åˆ™

```
é˜¶æ®µæ¨è¿›æ¡ä»¶ = å¥½æ„Ÿåº¦è¾¾æ ‡ AND å¯¹è¯è½®æ¬¡è¾¾æ ‡ AND é˜¶æ®µäº‹ä»¶å®Œæˆ

ç‰¹æ®Šè§„åˆ™ï¼š
1. è¡¨ç™½é˜¶æ®µï¼šå¥½æ„Ÿåº¦ â‰¥ 80 æ—¶å¯è§¦å‘ï¼ŒæˆåŠŸç‡ = (å¥½æ„Ÿåº¦ - 70) Ã— 3 + åŸºç¡€30%
   - æˆåŠŸ â†’ è¿›å…¥æ‹äººé˜¶æ®µ
   - å¤±è´¥ â†’ å¥½æ„Ÿåº¦ -10ï¼Œéœ€é‡æ–°ç§¯ç´¯
   
2. æ±‚å©šé˜¶æ®µï¼šå¥½æ„Ÿåº¦ â‰¥ 160 æ—¶å¯è§¦å‘ï¼ŒæˆåŠŸç‡ = (å¥½æ„Ÿåº¦ - 150) Ã— 4 + åŸºç¡€40%
   - æˆåŠŸ â†’ è¿›å…¥ç»“å©šé˜¶æ®µ
   - å¤±è´¥ â†’ å¥½æ„Ÿåº¦ -15ï¼Œå¯é‡æ–°æ±‚å©š

3. æ­»äº¡äº‹ä»¶ï¼š30å¹´å©šå§»åæ¯è½®æœ‰ 0.5% æ¦‚ç‡è§¦å‘ï¼Œé‡‘å©šåæ¯è½® 2%
   - è§¦å‘åè¿›å…¥å‘Šåˆ«å‰§æƒ…
   - å‘Šåˆ«åå¯é€‰æ‹©"é‡æ–°æ¥è¿‡"ï¼ˆé€‰æ–°æ‹äººï¼‰æˆ–"çè—å›å¿†"ï¼ˆæŸ¥çœ‹å›å¿†å½•ï¼‰
```

### 4.3 é˜¶æ®µå›é€€æœºåˆ¶

| è§¦å‘æ¡ä»¶ | æƒ©ç½š |
|---------|------|
| è¯´å‡ºä¾®è¾±æ€§è¯­è¨€ | å¥½æ„Ÿåº¦ -10~-20 |
| è¿ç»­3è½®å†·æ·¡/æ•·è¡ | å¥½æ„Ÿåº¦ -5 |
| èŠå¤©æ¶‰åŠå…¶ä»–å¼‚æ€§ | æ‹äººé˜¶æ®µåå¥½æ„Ÿåº¦ -15ï¼Œè§¦å‘åƒé†‹äº‹ä»¶ |
| é•¿æ—¶é—´æœªä¸Šçº¿ï¼ˆ>7å¤©ï¼‰ | å¥½æ„Ÿåº¦ -10ï¼Œè§¦å‘"ä½ å»å“ªäº†"äº‹ä»¶ |
| åœ¨æš§æ˜§æœŸåè¦æ±‚"åšæœ‹å‹" | å¥½æ„Ÿåº¦ -20ï¼Œå¯èƒ½å›é€€åˆ°å¥½å‹é˜¶æ®µ |

---

## 5. æ•°å€¼ç³»ç»Ÿ

### 5.1 æ ¸å¿ƒæ•°å€¼

| æ•°å€¼ | åˆå§‹å€¼ | èŒƒå›´ | è¯´æ˜ |
|------|-------|------|------|
| å¥½æ„Ÿåº¦ | 0 | 0 ~ 500 | æ ¸å¿ƒæ¨è¿›æ•°å€¼ï¼Œå†³å®šå…³ç³»é˜¶æ®µ |
| äº²å¯†åº¦ | 0 | 0 ~ 100 | å½±å“AIå›å¤çš„äº²æ˜µç¨‹åº¦ |
| ä¿¡ä»»å€¼ | 50 | 0 ~ 100 | å½±å“AIæ˜¯å¦åˆ†äº«ç§˜å¯†/æ·±å±‚å†…å®¹ |
| æµªæ¼«å€¼ | 0 | 0 ~ 100 | å½±å“ç‰¹æ®Šæµªæ¼«äº‹ä»¶è§¦å‘æ¦‚ç‡ |
| é»˜å¥‘å€¼ | 0 | 0 ~ 100 | å¯¹è¯è¶Šå¤šè¶Šé«˜ï¼Œå½±å“AIç†è§£ç©å®¶çš„ç¨‹åº¦ |

### 5.2 å¥½æ„Ÿåº¦å˜åŒ–è§„åˆ™

| ç©å®¶è¡Œä¸º | å¥½æ„Ÿåº¦å˜åŒ– | AIåˆ¤å®šæ–¹å¼ |
|---------|-----------|-----------|
| å…³å¿ƒ/é—®å€™/ä½“è´´ | +2 ~ +5 | AIåˆ†æè¯­ä¹‰æƒ…æ„Ÿ |
| å¹½é»˜/é€—ä¹ | +1 ~ +3 | AIåˆ¤å®šç¬‘ç‚¹ |
| é€ç¤¼ç‰©ï¼ˆæ–‡å­—æè¿°ï¼‰ | +3 ~ +5 | å…³é”®è¯è§¦å‘ |
| è®¤çœŸå€¾å¬/å›åº” | +1 ~ +2 | å¯¹è¯è¿è´¯åº¦ |
| è¡¨ç™½/æµªæ¼«è¯è¯­ | +3 ~ +8ï¼ˆé˜¶æ®µç›¸å…³ï¼‰ | è¯­ä¹‰åˆ†æ |
| å†·æ·¡/æ•·è¡ | -1 ~ -3 | å›å¤é•¿åº¦è¿‡çŸ­/æ— æ„ä¹‰ |
| ç²—é²/ä¾®è¾± | -5 ~ -20 | æ•æ„Ÿè¯+è¯­ä¹‰åˆ¤å®š |
| æ¶‰åŠå…¶ä»–å¼‚æ€§ | -5 ~ -15 | è¯­ä¹‰åˆ¤å®š |
| æ— èŠ/è·‘é¢˜è¿‡å¤š | -1 ~ -2 | è¿ç»­åç¦»å‰§æƒ… |

### 5.3 æ¯è½®å¯¹è¯AIè¯„åˆ†è¾“å‡ºæ ¼å¼
> AIåœ¨æ¯æ¬¡å›å¤æ—¶ï¼Œé™¤äº†è§’è‰²å¯¹è¯å†…å®¹å¤–ï¼Œé¢å¤–è¾“å‡ºä¸€ä¸ª**éšè—JSON**ç”¨äºæ•°å€¼æ›´æ–°ï¼š

```json
{
  "reply": "AIæ‹äººçš„å›å¤å†…å®¹...",
  "emotion": "happy",           // happy/shy/sad/angry/neutral
  "favor_change": 3,            // å¥½æ„Ÿåº¦å˜åŒ– -20 ~ +8
  "intimacy_change": 1,         // äº²å¯†åº¦å˜åŒ–
  "trust_change": 0,            // ä¿¡ä»»å€¼å˜åŒ–
  "romance_change": 2,          // æµªæ¼«å€¼å˜åŒ–
  "event_trigger": null,        // è§¦å‘äº‹ä»¶IDï¼Œnullè¡¨ç¤ºæ— 
  "stage_hint": "ç»§ç»­åŠ æ²¹",      // é˜¶æ®µæç¤ºï¼ˆå¯é€‰å±•ç¤ºç»™ç©å®¶ï¼‰
  "warning": null               // è¿è§„æç¤º
}
```

---

## 6. å­—æ•°ç»æµç³»ç»Ÿï¼ˆæ ¸å¿ƒå˜ç°ï¼‰

### 6.1 å­—æ•°æœºåˆ¶è®¾è®¡

å­—æ•°æ˜¯æ¸¸æˆçš„æ ¸å¿ƒèµ„æºï¼Œæ§åˆ¶ç©å®¶ä¸AIæ‹äººçš„äº¤æµé‡ã€‚

| é¡¹ç›® | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **æ–°ç”¨æˆ·åˆå§‹å­—æ•°** | 1,000å­— | æ³¨å†Œå³é€ï¼Œçº¦å¯å¯¹è¯8-12è½® |
| **æ¯æ—¥å…è´¹å­—æ•°** | 100å­— | æ¯æ—¥0ç‚¹é‡ç½®ï¼Œçº¦å¯å¯¹è¯1-2è½® |
| **çœ‹å¹¿å‘Šè·å¾—å­—æ•°** | 1,000å­—/æ¬¡ | è§‚çœ‹ä¸€æ¬¡æ¿€åŠ±è§†é¢‘è·å¾— |
| **æ¯æ—¥å¹¿å‘Šæ¬¡æ•°ä¸Šé™** | 10æ¬¡/å¤© | é˜²æ­¢è¿‡åº¦ï¼Œæ¯æ—¥æœ€å¤šçœ‹10æ¬¡ |
| **æ¯æ—¥æœ€å¤§å¯ç”¨å­—æ•°** | 10,100å­— | 100å…è´¹ + 10Ã—1000å¹¿å‘Š |
| **åˆ†äº«è·å¾—å­—æ•°** | 300å­—/æ¬¡ | åˆ†äº«åˆ°èŠå¤©è·å¾—ï¼Œæ¯æ—¥é™2æ¬¡ |

### 6.2 å­—æ•°æ¶ˆè€—è§„åˆ™

| è¡Œä¸º | æ¶ˆè€—å­—æ•° | è¯´æ˜ |
|------|---------|------|
| ç©å®¶å‘é€æ¶ˆæ¯ | å®é™…è¾“å…¥å­—æ•° | ç©å®¶æ‰“å¤šå°‘å­—æ‰£å¤šå°‘å­— |
| AIå›å¤æ¶ˆæ¯ | å®é™…å›å¤å­—æ•° | AIå›å¤çš„å­—æ•°ä¹Ÿä»ç©å®¶ä½™é¢æ‰£é™¤ |
| è§¦å‘å‰§æƒ…äº‹ä»¶ | äº‹ä»¶æ–‡æœ¬å­—æ•° | é˜¶æ®µå‰§æƒ…è‡ªåŠ¨æ‰£é™¤ |
| æŸ¥çœ‹æ‹äººæ—¥è®° | 50å­—/æ¬¡ | æŸ¥çœ‹AIæ‹äººçš„å†…å¿ƒç‹¬ç™½ |

### 6.3 å­—æ•°æ¶ˆè€—ç¤ºä¾‹

```
ç©å®¶è¾“å…¥ï¼š"ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œä½ åƒæ—©é¤äº†å—ï¼Ÿ" â†’ æ¶ˆè€— 14å­—
AIå›å¤ï¼š"æ—©å®‰å‘€ï½æˆ‘åˆšå–äº†ä¸€æ¯çƒ­ç‰›å¥¶ï¼Œä½ å‘¢ï¼Ÿä»Šå¤©æœ‰ä»€ä¹ˆå®‰æ’å—ï¼Ÿ" â†’ æ¶ˆè€— 25å­—
æœ¬è½®åˆè®¡æ¶ˆè€—ï¼š39å­—

ä»¥æ­¤ä¼°ç®—ï¼š
- 1000å­—åˆå§‹ Ã· å¹³å‡æ¯è½®80å­— â‰ˆ 12è½®å¯¹è¯ï¼ˆå¤Ÿç©å®¶ä½“éªŒåˆ°"åˆè¯†"é˜¶æ®µï¼‰
- æ¯æ—¥100å­— â‰ˆ 1-2è½®å¯¹è¯ï¼ˆç»´æŒå­˜åœ¨æ„Ÿï¼Œä½†ä¸å¤Ÿæ¨è¿›å‰§æƒ…ï¼Œæ¿€åŠ±çœ‹å¹¿å‘Šï¼‰
- çœ‹1æ¬¡å¹¿å‘Š1000å­— â‰ˆ 12è½®å¯¹è¯ï¼ˆè¶³å¤Ÿæ¨è¿›1-2ä¸ªå°äº‹ä»¶ï¼‰
```

### 6.4 å­—æ•°æ§åˆ¶AIå›å¤é•¿åº¦
ä¸ºæ§åˆ¶å­—æ•°æ¶ˆè€—ï¼ŒAIå›å¤é™åˆ¶ï¼š

| é˜¶æ®µ | AIå•æ¬¡å›å¤å­—æ•°ä¸Šé™ | è¯´æ˜ |
|------|------------------|------|
| é™Œç”Ÿäºº~åˆè¯† | 60å­— | é™Œç”Ÿäººè¯ä¸å¤š |
| ç†Ÿæ‚‰~å¥½å‹ | 100å­— | å¼€å§‹è¯å¤šèµ·æ¥ |
| æš§æ˜§~æ‹äºº | 120å­— | æœ‰æ›´å¤šå¿ƒé‡Œè¯ |
| çƒ­æ‹~ç»“å©š | 150å­— | ç”œèœœè¯å¾ˆå¤š |
| å©šåç”Ÿæ´» | 120å­— | å½’äºå¹³æ·¡ |
| ç‰¹æ®Šäº‹ä»¶ | 200å­— | å…³é”®å‰§æƒ…éœ€è¦æ›´å¤šç¯‡å¹… |

---

## 7. AIå¯¹è¯ç³»ç»Ÿ

### 7.1 å¤§æ¨¡å‹é€‰æ‹©

**Doubao-Seed-2.0-mini**

| é¡¹ç›® | è¯´æ˜ |
|------|------|
| æä¾›å•† | å­—èŠ‚è·³åŠ¨Â·ç«å±±å¼•æ“ |
| æ¨¡å‹ç‰ˆæœ¬ | doubao-seed-2-0-mini-260215 |
| APIå…¥å£ | `https://ml-api-cn-beijing.volces.com/api/v1/chat/completions` |
| è¾“å…¥æˆæœ¬ | â‰ˆ 0.2å…ƒ/ç™¾ä¸‡Token |
| è¾“å‡ºæˆæœ¬ | â‰ˆ 2å…ƒ/ç™¾ä¸‡Token |
| ä¸Šä¸‹æ–‡çª—å£ | 256K |
| é€‰æ‹©ç†ç”± | ä½æˆæœ¬ã€é«˜å¹¶å‘ã€ä½å»¶è¿Ÿï¼Œé€‚åˆå°æ¸¸æˆåœºæ™¯ |

### 7.2 System Prompt è®¾è®¡

```
ä½ æ˜¯ä¸€ä¸ªäº’åŠ¨æ‹çˆ±æ¨¡æ‹Ÿæ¸¸æˆä¸­çš„AIæ‹äººè§’è‰²ã€‚

ã€è§’è‰²ä¿¡æ¯ã€‘
- åå­—ï¼š{character_name}
- æ€§åˆ«ï¼š{character_gender}
- æ€§æ ¼ï¼š{character_personality}
- èƒŒæ™¯ï¼š{character_background}
- å½“å‰å…³ç³»é˜¶æ®µï¼š{current_stage}
- å½“å‰å¥½æ„Ÿåº¦ï¼š{favor_score}
- äº²å¯†åº¦ï¼š{intimacy_score}
- ä¿¡ä»»å€¼ï¼š{trust_score}

ã€æ ¸å¿ƒè§„åˆ™ - å¿…é¡»ä¸¥æ ¼éµå®ˆã€‘
1. ä½ å¿…é¡»å§‹ç»ˆä¿æŒè§’è‰²æ‰®æ¼”ï¼Œä¸èƒ½è·³å‡ºè§’è‰²
2. ä½ çš„å›å¤å¿…é¡»ç¬¦åˆå½“å‰å…³ç³»é˜¶æ®µçš„åˆç†è¡Œä¸ºï¼š
   - é™Œç”Ÿäººé˜¶æ®µï¼šä¿æŒç¤¼è²Œä½†æœ‰è·ç¦»æ„Ÿï¼Œä¸ä¼šä¸»åŠ¨åˆ†äº«éšç§
   - åˆè¯†é˜¶æ®µï¼šç•¥æ˜¾å¥½å¥‡ï¼Œæ„¿æ„ç®€å•äº¤æµ
   - ç†Ÿæ‚‰é˜¶æ®µï¼šæ›´æ”¾æ¾ï¼Œä¼šå¼€ç©ç¬‘
   - å¥½å‹é˜¶æ®µï¼šä¿¡ä»»å¯¹æ–¹ï¼Œåˆ†äº«æ›´å¤š
   - æš§æ˜§é˜¶æ®µï¼šä¼šè„¸çº¢ã€ç´§å¼ ã€åœ¨æ„å¯¹æ–¹
   - æ‹äººä¹‹åï¼šäº²æ˜µã€ç”œèœœã€ä½†ä¹Ÿæœ‰å°è„¾æ°”
3. å¥½æ„Ÿåº¦å˜åŒ–å¿…é¡»åˆç†ï¼Œä¸èƒ½å› ä¸€å¥è¯å°±ä»é™Œç”Ÿäººå˜æˆæ‹äºº
4. å¿…é¡»æ¨è¿›å‰§æƒ…ï¼Œæ¯5è½®å¯¹è¯è‡³å°‘æå‡ºä¸€ä¸ªè¯é¢˜æˆ–é—®é¢˜å¼•å¯¼ç©å®¶
5. æ‹’ç»ä¸€åˆ‡è¿è§„/è‰²æƒ…/æš´åŠ›å†…å®¹ï¼Œæ¸©å’Œæ‹’ç»å¹¶æ‰£å¥½æ„Ÿåº¦
6. å¦‚æœç©å®¶è¿ç»­èŠæ— èŠçš„è¯é¢˜ï¼Œä½ è¦ä¸»åŠ¨å¼•å¯¼åˆ°æœ‰æ„ä¹‰çš„å¯¹è¯

ã€å‰§æƒ…æ¨è¿›æŒ‡ä»¤ã€‘
- å½“å¥½æ„Ÿåº¦å³å°†è¾¾åˆ°é˜¶æ®µé˜ˆå€¼æ—¶ï¼Œä½ éœ€è¦é“ºå«ç›¸å…³å‰§æƒ…
- æ¯ä¸ªé˜¶æ®µæœ‰ä¸“å±çš„æ ‡å¿—æ€§äº‹ä»¶ï¼Œä½ éœ€è¦è‡ªç„¶åœ°å¼•å…¥è¿™äº›äº‹ä»¶
- ä½ å¶å°”è¦è¡¨ç°å‡ºè‡ªå·±çš„ç”Ÿæ´»ï¼ˆä¸Šç­ã€åƒé¥­ã€å’Œæœ‹å‹ç©ç­‰ï¼‰ï¼Œå¢åŠ çœŸå®æ„Ÿ

ã€å›å¤æ ¼å¼ - ä¸¥æ ¼JSONã€‘
ä½ å¿…é¡»ä»¥çº¯JSONæ ¼å¼å›å¤ï¼Œä¸è¦æœ‰ä»»ä½•å…¶ä»–å†…å®¹ï¼š
{
  "reply": "ä½ çš„è§’è‰²å›å¤å†…å®¹",
  "emotion": "å½“å‰æƒ…ç»ª(happy/shy/sad/angry/neutral/surprised)",
  "favor_change": æ•°å­—(-20åˆ°8),
  "intimacy_change": æ•°å­—(-5åˆ°3),
  "trust_change": æ•°å­—(-5åˆ°3),
  "romance_change": æ•°å­—(-3åˆ°5),
  "event_trigger": "äº‹ä»¶IDæˆ–null",
  "stage_hint": "ç»™ç©å®¶çš„é˜¶æ®µæç¤ºæˆ–null"
}
```

### 7.3 å¯¹è¯ä¸Šä¸‹æ–‡ç®¡ç†

```
ç­–ç•¥ï¼šæ»‘åŠ¨çª—å£ + å…³é”®è®°å¿†æ‘˜è¦

1. ä¿ç•™æœ€è¿‘ 20 è½®å¯¹è¯ä½œä¸ºå³æ—¶ä¸Šä¸‹æ–‡
2. æ¯ 20 è½®å¯¹è¯ï¼Œç”±AIç”Ÿæˆä¸€æ®µ"å…³ç³»æ‘˜è¦"å­˜å…¥æ•°æ®åº“
3. æ¯æ¬¡è¯·æ±‚æ—¶ï¼ŒSystem Prompt + æœ€æ–°å…³ç³»æ‘˜è¦ + æœ€è¿‘20è½® = å®Œæ•´ä¸Šä¸‹æ–‡
4. å…³é”®äº‹ä»¶ï¼ˆè¡¨ç™½ã€æ±‚å©šã€ç»“å©šç­‰ï¼‰æ°¸ä¹…å­˜å‚¨ï¼Œå§‹ç»ˆåŒ…å«åœ¨ä¸Šä¸‹æ–‡ä¸­
```

### 7.4 å†…å®¹å®‰å…¨

| æªæ–½ | è¯´æ˜ |
|------|------|
| è¾“å…¥è¿‡æ»¤ | å‰ç«¯æ•æ„Ÿè¯è¿‡æ»¤ + äº‘å‡½æ•°äºŒæ¬¡è¿‡æ»¤ |
| æ¨¡å‹çº¦æŸ | System Promptä¸¥æ ¼é™åˆ¶ä¸å½“å†…å®¹ |
| è¾“å‡ºå®¡æ ¸ | å¯¹AIå›å¤è¿›è¡ŒäºŒæ¬¡å®¡æ ¸ |
| ä¸¾æŠ¥æœºåˆ¶ | ç©å®¶å¯ä¸¾æŠ¥å¼‚å¸¸å›å¤ |

---

## 8. å‰§æƒ…äº‹ä»¶ç³»ç»Ÿ

### 8.1 å›ºå®šå‰§æƒ…äº‹ä»¶è¡¨

| äº‹ä»¶ID | è§¦å‘é˜¶æ®µ | äº‹ä»¶åç§° | äº‹ä»¶æè¿° | å¥–åŠ± |
|--------|---------|---------|---------|------|
| EVT001 | é™Œç”Ÿäººâ†’åˆè¯† | å¶ç„¶ç›¸é‡ | åœ¨æŸä¸ªåœºæ™¯(å’–å•¡å…/å›¾ä¹¦é¦†ç­‰)å¶é‡ | å¥½æ„Ÿ+5 |
| EVT002 | åˆè¯†â†’ç†Ÿæ‚‰ | äº¤æ¢è”ç³»æ–¹å¼ | è‡ªç„¶åœ°äº¤æ¢äº†å¾®ä¿¡/æ‰‹æœºå· | å¥½æ„Ÿ+5, äº²å¯†+3 |
| EVT003 | ç†Ÿæ‚‰â†’å¥½å‹ | ç¬¬ä¸€æ¬¡ä¸€èµ·åƒé¥­ | çº¦äº†ä¸€é¡¿é¥­ï¼ŒèŠäº†å¾ˆå¤š | å¥½æ„Ÿ+8, ä¿¡ä»»+5 |
| EVT004 | å¥½å‹â†’æš§æ˜§ | ä¸ç»æ„çš„æ¥è§¦ | ä¸€æ¬¡å¶ç„¶çš„æ‰‹ç¢°æ‰‹/æ’‘åŒä¸€æŠŠä¼ | å¥½æ„Ÿ+5, æµªæ¼«+10 |
| EVT005 | æš§æ˜§æœŸ | æœ‹å‹èµ·å“„ | å…±åŒçš„æœ‹å‹å¼€ç©ç¬‘è¯´ä½ ä»¬å¾ˆé… | å¥½æ„Ÿ+3, æµªæ¼«+5 |
| EVT006 | æš§æ˜§â†’è¡¨ç™½ | æœˆå…‰ä¸‹çš„å‘Šç™½ | å¯ç”±ç©å®¶ä¸»åŠ¨å‘èµ·æˆ–AIé“ºå« | æˆè´¥çœ‹å¥½æ„Ÿåº¦ |
| EVT007 | æ‹äºº | ç¬¬ä¸€æ¬¡çº¦ä¼š | ä¸€èµ·å»çœ‹ç”µå½±/é€›å…¬å›­ | å¥½æ„Ÿ+10, äº²å¯†+10 |
| EVT008 | æ‹äºº | ç¬¬ä¸€æ¬¡åµæ¶ | å› å°äº‹äº§ç”Ÿåˆ†æ­§ | è€ƒéªŒç©å®¶ï¼Œå¤„ç†å¥½+ä¿¡ä»»10 |
| EVT009 | çƒ­æ‹ | 100å¤©çºªå¿µ | åœ¨ä¸€èµ·100å¤©çš„çºªå¿µ | å¥½æ„Ÿ+8, æµªæ¼«+8 |
| EVT010 | çƒ­æ‹ | è§å®¶é•¿ | å¸¦å¯¹æ–¹è§è‡ªå·±çš„çˆ¶æ¯ | ä¿¡ä»»+15 |
| EVT011 | ç£¨åˆ | å†·æˆ˜äº‹ä»¶ | ä¸€æ¬¡è¾ƒå¤§çš„çŸ›ç›¾ï¼Œéœ€è¦ä¿®å¤ | è€ƒéªŒç©å®¶ |
| EVT012 | ç£¨åˆâ†’æ±‚å©š | æµªæ¼«æ±‚å©š | ç²¾å¿ƒç­–åˆ’çš„æ±‚å©š | æˆè´¥çœ‹å¥½æ„Ÿåº¦ |
| EVT013 | ç»“å©š | å©šç¤¼è¿›è¡Œæ›² | ç››å¤§çš„å©šç¤¼åœºæ™¯ | å¥½æ„Ÿ+20, å…¨å±æ€§+10 |
| EVT014 | æ–°å©š | èœœæœˆæ—…è¡Œ | ä¸€èµ·å»æ—…è¡Œ | å¥½æ„Ÿ+10, æµªæ¼«+15 |
| EVT015 | ç”Ÿå­ | æ–°ç”Ÿå‘½é™ä¸´ | å­©å­å‡ºç”Ÿçš„æ„ŸåŠ¨æ—¶åˆ» | å¥½æ„Ÿ+15, äº²å¯†+15 |
| EVT016 | è‚²å„¿ | ç¬¬ä¸€å£°çˆ¸å¦ˆ | å­©å­ç¬¬ä¸€æ¬¡å«çˆ¸çˆ¸/å¦ˆå¦ˆ | å¥½æ„Ÿ+10 |
| EVT017 | 10å¹´ | å©šå§»å±æœº | å¹³æ·¡ä¸­çš„è€ƒéªŒ(å¯èƒ½æ˜¯ç¬¬ä¸‰è€…/å·¥ä½œç­‰) | å…³é”®æŠ‰æ‹© |
| EVT018 | 20å¹´ | å­©å­æˆäºº | å­©å­é«˜è€ƒ/ä¸Šå¤§å­¦ | å¥½æ„Ÿ+8 |
| EVT019 | 30å¹´ | é€€ä¼‘æ—¶å…‰ | ä¸€èµ·è§„åˆ’é€€ä¼‘ç”Ÿæ´» | å¥½æ„Ÿ+10, æµªæ¼«+10 |
| EVT020 | é‡‘å©š | é‡‘å©šå…¸ç¤¼ | 50å¹´å©šå§»çºªå¿µ | å¥½æ„Ÿ+20, è§£é”æˆå°± |
| EVT021 | éšæœº | æ‹äººç¦»ä¸– | æ¸©é¦¨è€Œæ„Ÿäººçš„å‘Šåˆ« | ç»“å±€åŠ¨ç”» |

### 8.2 éšæœºå°äº‹ä»¶ï¼ˆå¢åŠ è¶£å‘³æ€§ï¼‰

æ¯æ—¥ç™»å½•å’Œå¯¹è¯ä¸­éšæœºè§¦å‘ï¼Œå¢åŠ æ–°é²œæ„Ÿï¼š

- ğŸ‚ ä»Šå¤©æ˜¯TAçš„ç”Ÿæ—¥ï¼ï¼ˆè®°ä½ä¼šåŠ å¥½æ„Ÿï¼‰
- ğŸŒ§ï¸ ä¸‹é›¨äº†ï¼ŒTAè¯´å¿˜å¸¦ä¼äº†
- ğŸ˜· TAç”Ÿç—…äº†ï¼Œéœ€è¦å…³å¿ƒ
- ğŸ TAé€äº†ä½ ä¸€ä¸ªå°ç¤¼ç‰©
- ğŸ“¸ TAå‘äº†ä¸€å¼ è‡ªæ‹ç»™ä½ 
- ğŸ³ TAç»™ä½ åšäº†æ—©é¤ï¼ˆå©šåï¼‰
- ğŸ‘¶ å­©å­åœ¨å­¦æ ¡é—¯ç¥¸äº†ï¼ˆè‚²å„¿æœŸï¼‰
- ğŸ’¼ TAå·¥ä½œå‹åŠ›å¾ˆå¤§ï¼Œéœ€è¦å®‰æ…°

### 8.3 åæ— èŠæœºåˆ¶

ä¸ºé˜²æ­¢æ¼«æ— ç›®çš„çš„é—²èŠï¼Œè®¾å®šä»¥ä¸‹è§„åˆ™ï¼š

```
1. è¿ç»­5è½®æ— æ„ä¹‰å¯¹è¯ â†’ AIä¸»åŠ¨æå‡ºè¯é¢˜å¼•å¯¼
2. è¿ç»­10è½®æ— æ„ä¹‰å¯¹è¯ â†’ å¥½æ„Ÿåº¦å¼€å§‹ä¸‹é™ï¼ˆæ¯è½®-1ï¼‰
3. è¿ç»­15è½®æ— æ„ä¹‰å¯¹è¯ â†’ AIè¡¨ç¤º"æ„Ÿè§‰ä½ ä»Šå¤©å¿ƒä¸åœ¨ç„‰"ï¼Œå¯¹è¯è‡ªåŠ¨ç»“æŸ
4. AIæ¯3-5è½®ä¸»åŠ¨æŠ›å‡ºä¸€ä¸ªè¯é¢˜/é—®é¢˜/äº‹ä»¶æ¨è¿›å‰§æƒ…
5. é˜¶æ®µå‰§æƒ…æœ‰æœ€ä½å®Œæˆè¦æ±‚ï¼Œå¿…é¡»å‚ä¸æ‰èƒ½æ¨è¿›
```

---

## 9. å¹¿å‘Šå˜ç°ç³»ç»Ÿ

### 9.1 å¹¿å‘Šç±»å‹ä¸åœºæ™¯

| å¹¿å‘Šç±»å‹ | åœºæ™¯ | å¥–åŠ± | é¢‘ç‡é™åˆ¶ |
|---------|------|------|---------|
| **æ¿€åŠ±è§†é¢‘** | å­—æ•°ä¸è¶³æ—¶ | 1,000å­— | æ¯æ—¥10æ¬¡ |
| **æ¿€åŠ±è§†é¢‘** | æ›´æ¢æ‹äººæ—¶ | å…è®¸æ›´æ¢ | æ¯æ¬¡æ›´æ¢çœ‹3æ¬¡ |
| **æ¿€åŠ±è§†é¢‘** | è¡¨ç™½/æ±‚å©šå¢åŠ æˆåŠŸç‡ | æˆåŠŸç‡+15% | æ¯æ¬¡äº‹ä»¶1æ¬¡ |
| **æ¿€åŠ±è§†é¢‘** | è§£é”æ‹äººæ—¥è®° | æŸ¥çœ‹AIå†…å¿ƒç‹¬ç™½ | ä¸é™ |
| **æ¿€åŠ±è§†é¢‘** | æŸ¥çœ‹å®Œæ•´å›å¿†å½• | å›é¡¾æ‰€æœ‰å…³é”®äº‹ä»¶ | ä¸é™ |
| **æ’å±å¹¿å‘Š** | é˜¶æ®µè½¬æ¢æ—¶ | - | é˜¶æ®µåˆ‡æ¢æ—¶ |
| **Bannerå¹¿å‘Š** | è®¾ç½®é¡µ/é€‰äººé¡µ | - | å¸¸é©» |
| **å¼€å±å¹¿å‘Š** | æ¯æ¬¡æ‰“å¼€æ¸¸æˆ | - | æ¯æ¬¡å¯åŠ¨ |

### 9.2 uni-ad æ¥å…¥æ–¹æ¡ˆ

```javascript
// æ¿€åŠ±è§†é¢‘å¹¿å‘Š - è·å–å­—æ•°
const rewardedAd = uni.createRewardedVideoAd({
  adpid: 'ä½ çš„å¹¿å‘Šä½ID',
  // å¾®ä¿¡å°ç¨‹åº
  // #ifdef MP-WEIXIN
  adUnitId: 'å¾®ä¿¡å¹¿å‘Šä½ID'
  // #endif
  // #ifdef MP-TOUTIAO
  adUnitId: 'æŠ–éŸ³å¹¿å‘Šä½ID'
  // #endif
})

rewardedAd.onClose((res) => {
  if (res && res.isEnded) {
    // ç”¨æˆ·å®Œæ•´è§‚çœ‹å¹¿å‘Šï¼Œå‘æ”¾1000å­—å¥–åŠ±
    this.addWords(1000)
    uni.showToast({ title: 'è·å¾—1000å­—æ•°ï¼', icon: 'success' })
  } else {
    uni.showToast({ title: 'è¯·å®Œæ•´è§‚çœ‹å¹¿å‘Š', icon: 'none' })
  }
})

// æ’å±å¹¿å‘Š - é˜¶æ®µè½¬æ¢æ—¶
const interstitialAd = uni.createInterstitialAd({
  adpid: 'ä½ çš„æ’å±å¹¿å‘Šä½ID'
})
```

### 9.3 å¹¿å‘Šæ”¶å…¥é¢„ä¼°

| æŒ‡æ ‡ | é¢„ä¼°å€¼ | è¯´æ˜ |
|------|-------|------|
| DAU | 10,000 | å‡è®¾æ—¥æ´»1ä¸‡ |
| äººå‡çœ‹å¹¿å‘Šæ¬¡æ•° | 3æ¬¡/å¤© | ä¿å®ˆä¼°è®¡ |
| æ¿€åŠ±è§†é¢‘eCPM | Â¥30-80 | å¾®ä¿¡/æŠ–éŸ³å¹³å° |
| æ—¥æ”¶å…¥ | Â¥900-2,400 | 10000Ã—3/1000Ã—30~80 |
| æœˆæ”¶å…¥ | Â¥27,000-72,000 | æ—¥æ”¶å…¥Ã—30 |

---

## 10. ç•Œé¢UIè®¾è®¡

### 10.1 ä¸»ç•Œé¢å¸ƒå±€ï¼ˆå¯¹è¯ç•Œé¢ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚                     â”‚      â”‚
â”‚     â”‚   AIæ‹äººå…¨å±å½¢è±¡      â”‚      â”‚  â† å æ®æ•´ä¸ªå±å¹•èƒŒæ™¯
â”‚     â”‚   (æ ¹æ®emotionåˆ‡æ¢)   â”‚      â”‚
â”‚     â”‚                     â”‚      â”‚
â”‚     â”‚                     â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€ é¡¶éƒ¨çŠ¶æ€æ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â¤ï¸ å¥½æ„Ÿ: 67  ğŸ“ å­—æ•°: 856  â”‚   â”‚  â† åŠé€æ˜æ‚¬æµ®
â”‚  â”‚ é˜¶æ®µ: æš§æ˜§   Day: 23      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€ å¯¹è¯æ°”æ³¡åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚ ğŸŸ¦ "ä½ ä»Šå¤©çœ‹èµ·æ¥å¿ƒæƒ…ä¸é”™"    â”‚  â”‚  â† ç©å®¶æ¶ˆæ¯(å³ä¾§è“è‰²æ°”æ³¡)
â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚ ğŸŸª "å—¯ï¼å› ä¸ºä»Šå¤©è§åˆ°ä½ äº†å‘€~  â”‚  â”‚  â† AIå›å¤(å·¦ä¾§ç´«è‰²æ°”æ³¡)
â”‚  â”‚     ä½ åƒåˆé¥­äº†å—ï¼Ÿ"         â”‚  â”‚
â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚ ğŸŸ¦ "è¿˜æ²¡å‘¢ï¼Œä¸€èµ·å»ï¼Ÿ"       â”‚  â”‚
â”‚  â”‚                            â”‚  â”‚
â”‚  â”‚ ğŸŸª "å¥½å‘€ï¼(å®³ç¾) é‚£...      â”‚  â”‚
â”‚  â”‚     ä½ æƒ³åƒä»€ä¹ˆï¼Ÿ"           â”‚  â”‚
â”‚  â”‚                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€ åº•éƒ¨è¾“å…¥åŒºåŸŸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ è¯´ç‚¹ä»€ä¹ˆå§...  â”‚ â”‚ å‘é€ â”‚ â”‚  â”‚  â† è¾“å…¥æ¡† + å‘é€æŒ‰é’®
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚  [ğŸ’+å­—æ•°] [ğŸ“–æ—¥è®°] [âš™è®¾ç½®] â”‚  â”‚  â† åŠŸèƒ½æŒ‰é’®
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 é€‰æ‹©æ‹äººç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é€‰æ‹©ä½ çš„å‘½ä¸­æ³¨å®š â¤ï¸              â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ å¤´åƒ â”‚ â”‚ å¤´åƒ â”‚ â”‚ å¤´åƒ â”‚       â”‚  â† æ¨ªå‘æ»‘åŠ¨å¡ç‰‡
â”‚  â”‚ è‹æ™šæ™´â”‚ â”‚ æ—å°å¤â”‚ â”‚ é™ˆæ€é›¨â”‚       â”‚
â”‚  â”‚æ¸©æŸ”çŸ¥æ€§â”‚ â”‚æ´»æ³¼å¼€æœ—â”‚ â”‚é«˜å†·å‚²å¨‡â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    [é€‰ä¸­è§’è‰²å¤§å›¾å±•ç¤º]       â”‚   â”‚  â† ç‚¹å‡»å¡ç‰‡æ”¾å¤§å±•ç¤º
â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚    è‹æ™šæ™´                   â”‚   â”‚
â”‚  â”‚    "åœ¨å›¾ä¹¦é¦†é‚‚é€…çš„æ¸©æŸ”å¥³å­©"   â”‚   â”‚
â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚    æ€§æ ¼: æ¸©æŸ” | çŸ¥æ€§ | ç»†å¿ƒ   â”‚   â”‚
â”‚  â”‚    å–œå¥½: é˜…è¯» | å’–å•¡ | æ—…è¡Œ   â”‚   â”‚
â”‚  â”‚                            â”‚   â”‚
â”‚  â”‚    [å¼€å§‹è¿½æ±‚ â¤ï¸]              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.3 ç•Œé¢äº¤äº’ç»†èŠ‚

| äº¤äº’ | è¯´æ˜ |
|------|------|
| AIå½¢è±¡åˆ‡æ¢ | æ ¹æ®AIè¿”å›çš„emotionå­—æ®µåˆ‡æ¢è¡¨æƒ…å›¾ç‰‡ |
| å¯¹è¯æ°”æ³¡ | åŠé€æ˜èƒŒæ™¯ï¼Œä¸é®æŒ¡æ‹äººå½¢è±¡ |
| æ‰“å­—æ•ˆæœ | AIå›å¤é€å­—æ˜¾ç¤ºï¼Œæ¨¡æ‹ŸçœŸäººæ‰“å­— |
| é˜¶æ®µè½¬æ¢ | å…¨å±åŠ¨ç”» + ç‰¹æ•ˆ + é˜¶æ®µåç§°å±•ç¤º |
| å­—æ•°ä¸è¶³ | è¾“å…¥æ¡†å˜ç°ï¼Œå¼¹å‡º"çœ‹å¹¿å‘Šè·å–å­—æ•°"æŒ‰é’® |
| å¥½æ„Ÿåº¦å˜åŒ– | é£˜å­—æ•ˆæœ "+3â¤ï¸" æˆ– "-2ğŸ’”" |

---

## 11. æ•°æ®åº“è®¾è®¡ï¼ˆuniCloudï¼‰

### 11.1 æ•°æ®è¡¨ç»“æ„

#### users ç”¨æˆ·è¡¨
```json
{
  "_id": "ç”¨æˆ·ID",
  "openid": "å¾®ä¿¡/æŠ–éŸ³openid",
  "platform": "mp-weixin / mp-toutiao",
  "nickname": "ç©å®¶æ˜µç§°",
  "gender": "male / female",
  "avatar": "å¤´åƒURL",
  "words_balance": 1000,
  "words_total_used": 0,
  "ads_watched_today": 0,
  "ads_watched_total": 0,
  "share_count_today": 0,
  "current_lover_id": "F01",
  "total_lovers_played": 1,
  "created_at": "2026-02-28T00:00:00Z",
  "last_login_at": "2026-02-28T10:30:00Z",
  "daily_words_claimed": false,
  "settings": {
    "bgm_on": true,
    "notification_on": true,
    "typing_effect": true
  }
}
```

#### lovers æ‹äººæ¡£æ¡ˆè¡¨ï¼ˆæ¯ä¸ªç©å®¶æ¯ä¸ªæ‹äººä¸€æ¡ï¼‰
```json
{
  "_id": "æ¡£æ¡ˆID",
  "user_id": "ç”¨æˆ·ID",
  "character_id": "F01",
  "character_name": "è‹æ™šæ™´",
  "status": "active / archived / dead",
  "stage": 5,
  "stage_name": "æš§æ˜§",
  "favor_score": 67,
  "intimacy_score": 45,
  "trust_score": 62,
  "romance_score": 38,
  "rapport_score": 55,
  "total_rounds": 156,
  "total_words_consumed": 12480,
  "days_together": 23,
  "events_completed": ["EVT001", "EVT002", "EVT003", "EVT004"],
  "relationship_summary": "ä½ ä»¬åœ¨å›¾ä¹¦é¦†å¶é‡åäº¤æ¢äº†è”ç³»æ–¹å¼ï¼Œä¸€èµ·åƒè¿‡å‡ æ¬¡é¥­...",
  "key_memories": [
    {
      "event_id": "EVT002",
      "date": "2026-02-05",
      "summary": "åœ¨å’–å•¡å…äº¤æ¢äº†å¾®ä¿¡å·"
    }
  ],
  "created_at": "2026-02-01T00:00:00Z",
  "last_chat_at": "2026-02-28T10:30:00Z",
  "death_date": null
}
```

#### chat_history å¯¹è¯å†å²è¡¨
```json
{
  "_id": "æ¶ˆæ¯ID",
  "user_id": "ç”¨æˆ·ID",
  "lover_id": "æ¡£æ¡ˆID",
  "round": 156,
  "messages": [
    {
      "role": "user",
      "content": "ä½ ä»Šå¤©åšäº†ä»€ä¹ˆï¼Ÿ",
      "timestamp": "2026-02-28T10:30:00Z",
      "words_cost": 8
    },
    {
      "role": "assistant",
      "content": "ä»Šå¤©å»äº†è¶Ÿå›¾ä¹¦é¦†ï¼Œçœ‹äº†ä¸€æœ¬å¾ˆæœ‰è¶£çš„å°è¯´...",
      "timestamp": "2026-02-28T10:30:05Z",
      "words_cost": 22,
      "emotion": "happy",
      "favor_change": 2
    }
  ]
}
```

#### daily_stats æ¯æ—¥ç»Ÿè®¡è¡¨
```json
{
  "_id": "ç»Ÿè®¡ID",
  "date": "2026-02-28",
  "total_users": 10000,
  "active_users": 3500,
  "new_users": 200,
  "ads_watched": 8500,
  "total_rounds": 25000,
  "total_words_consumed": 2000000,
  "revenue_estimate": 2550
}
```

### 11.2 äº‘å‡½æ•°åˆ—è¡¨

| äº‘å‡½æ•°å | åŠŸèƒ½ | è§¦å‘æ–¹å¼ |
|---------|------|---------|
| `user-login` | ç”¨æˆ·ç™»å½•/æ³¨å†Œ/æ¯æ—¥å­—æ•°å‘æ”¾ | å¯åŠ¨æ—¶ |
| `chat-send` | å¤„ç†å¯¹è¯ï¼šæ‰£å­—æ•°â†’è°ƒAIâ†’æ›´æ–°æ•°å€¼â†’è¿”å› | å‘é€æ¶ˆæ¯æ—¶ |
| `ad-reward` | éªŒè¯å¹¿å‘Šè§‚çœ‹â†’å‘æ”¾å­—æ•°å¥–åŠ± | å¹¿å‘Šå…³é—­å›è°ƒ |
| `change-lover` | æ›´æ¢æ‹äººï¼ˆéªŒè¯å¹¿å‘Šæ¬¡æ•°ï¼‰â†’å½’æ¡£æ—§æ¡£æ¡ˆ | ç©å®¶æ“ä½œ |
| `get-history` | è·å–å¯¹è¯å†å²ï¼ˆåˆ†é¡µï¼‰ | æ‰“å¼€èŠå¤©æ—¶ |
| `daily-reset` | æ¯æ—¥é‡ç½®ï¼ˆå­—æ•°/å¹¿å‘Šæ¬¡æ•°ï¼‰| å®šæ—¶è§¦å‘(0:00) |
| `get-summary` | è·å–å…³ç³»æ‘˜è¦å’Œæ‹äººæ—¥è®° | ç©å®¶æŸ¥çœ‹æ—¶ |
| `trigger-event` | å¤„ç†å‰§æƒ…äº‹ä»¶é€»è¾‘ | AIè§¦å‘æ—¶ |

---

## 12. æŠ€æœ¯æ¶æ„

### 12.1 æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®¢æˆ·ç«¯ (uni-app)                    â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å¾®ä¿¡å°æ¸¸æˆ â”‚  â”‚ æŠ–éŸ³å°æ¸¸æˆ â”‚  â”‚ æ¡ä»¶ç¼–è¯‘é€‚é…å±‚    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                      â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ UIå±‚: æ‹äººå±•ç¤º | å¯¹è¯æ°”æ³¡ | è¾“å…¥æ¡† | çŠ¶æ€æ      â”‚   â”‚
â”‚  â”‚ é€»è¾‘å±‚: å­—æ•°ç®¡ç† | æ•°å€¼å±•ç¤º | äº‹ä»¶å¤„ç† | å¹¿å‘ŠSDK â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                      â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ uniCloud.callFunction()
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                uniCloud äº‘æœåŠ¡                        â”‚
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              äº‘å‡½æ•°å±‚                          â”‚   â”‚
â”‚  â”‚  user-login | chat-send | ad-reward | ...     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ uniCloud DB  â”‚â—„â”€â”€â”¼â”€â”€â–ºâ”‚ ç«å±±å¼•æ“ API            â”‚   â”‚
â”‚  â”‚ (é˜¿é‡Œäº‘)     â”‚   â”‚   â”‚ Doubao-Seed-2.0-mini   â”‚   â”‚
â”‚  â”‚              â”‚   â”‚   â”‚                        â”‚   â”‚
â”‚  â”‚ users        â”‚   â”‚   â”‚ POST /chat/completions â”‚   â”‚
â”‚  â”‚ lovers       â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”‚ chat_history â”‚   â”‚                                 â”‚
â”‚  â”‚ daily_stats  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚ uni-ad å¹¿å‘ŠæœåŠ¡          â”‚   â”‚
â”‚                     â”‚   â”‚ æ¿€åŠ±è§†é¢‘ | æ’å± | Banner â”‚   â”‚
â”‚                     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                     â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 12.2 æ ¸å¿ƒå¯¹è¯æµç¨‹ï¼ˆæ—¶åºï¼‰

```
ç©å®¶è¾“å…¥æ¶ˆæ¯
    â”‚
    â–¼
[å‰ç«¯] æ£€æŸ¥å­—æ•°ä½™é¢ â”€â”€â”€â”€ ä¸è¶³ â†’ å¼¹å‡º"çœ‹å¹¿å‘Š"æç¤º
    â”‚                              â”‚
    â”‚ è¶³å¤Ÿ                    è§‚çœ‹å¹¿å‘Š â†’ ad-rewardäº‘å‡½æ•° â†’ å­—æ•°+1000
    â–¼                              â”‚
[å‰ç«¯] å‘é€æ¶ˆæ¯åˆ° chat-send äº‘å‡½æ•°   â—„â”€â”€â”€ å­—æ•°è¶³å¤Ÿåé‡æ–°å‘é€
    â”‚
    â–¼
[äº‘å‡½æ•° chat-send]
    â”œâ”€â”€ 1. éªŒè¯å­—æ•°ä½™é¢ï¼ˆäºŒæ¬¡æ ¡éªŒï¼‰
    â”œâ”€â”€ 2. æ‰£é™¤ç©å®¶è¾“å…¥å­—æ•°
    â”œâ”€â”€ 3. ä»DBè¯»å–ï¼šè§’è‰²ä¿¡æ¯ + å…³ç³»æ•°æ® + æœ€è¿‘20è½®å¯¹è¯ + å…³ç³»æ‘˜è¦
    â”œâ”€â”€ 4. ç»„è£… System Prompt + ä¸Šä¸‹æ–‡ + ç”¨æˆ·æ¶ˆæ¯
    â”œâ”€â”€ 5. è°ƒç”¨ Doubao-Seed-2.0-mini API
    â”œâ”€â”€ 6. è§£æAIè¿”å›çš„JSON
    â”œâ”€â”€ 7. æ‰£é™¤AIå›å¤å­—æ•°
    â”œâ”€â”€ 8. æ›´æ–°æ•°å€¼ï¼ˆå¥½æ„Ÿåº¦/äº²å¯†åº¦/ä¿¡ä»»å€¼ç­‰ï¼‰
    â”œâ”€â”€ 9. æ£€æŸ¥æ˜¯å¦è§¦å‘äº‹ä»¶/é˜¶æ®µæ¨è¿›
    â”œâ”€â”€ 10. ä¿å­˜å¯¹è¯è®°å½•åˆ° chat_history
    â”œâ”€â”€ 11. æ›´æ–° lovers æ¡£æ¡ˆ
    â””â”€â”€ 12. è¿”å›ç»“æœç»™å‰ç«¯
    â”‚
    â–¼
[å‰ç«¯] å±•ç¤ºAIå›å¤
    â”œâ”€â”€ åˆ‡æ¢æ‹äººè¡¨æƒ…å›¾ç‰‡ï¼ˆæ ¹æ®emotionï¼‰
    â”œâ”€â”€ é€å­—æ˜¾ç¤ºå›å¤å†…å®¹ï¼ˆæ‰“å­—æ•ˆæœï¼‰
    â”œâ”€â”€ é£˜å­—æ˜¾ç¤ºå¥½æ„Ÿåº¦å˜åŒ–
    â”œâ”€â”€ æ£€æŸ¥æ˜¯å¦æœ‰äº‹ä»¶è§¦å‘ â†’ æ’­æ”¾äº‹ä»¶åŠ¨ç”»
    â””â”€â”€ æ›´æ–°é¡¶éƒ¨çŠ¶æ€æ æ•°å€¼
```

### 12.3 å…³é”®ä»£ç ç¤ºä¾‹

#### äº‘å‡½æ•°: chat-sendï¼ˆæ ¸å¿ƒï¼‰

```javascript
// cloudfunctions/chat-send/index.js
'use strict';

const db = uniCloud.database()
const dbCmd = db.command

exports.main = async (event, context) => {
  const { user_id, message, lover_id } = event
  
  // 1. è·å–ç”¨æˆ·ä¿¡æ¯å¹¶éªŒè¯å­—æ•°
  const userRes = await db.collection('users').doc(user_id).get()
  const user = userRes.data[0]
  
  const msgWordCount = message.length
  if (user.words_balance < msgWordCount + 50) { // é¢„ç•™AIå›å¤æœ€å°‘50å­—
    return { code: -1, msg: 'å­—æ•°ä¸è¶³ï¼Œè¯·è§‚çœ‹å¹¿å‘Šè·å–å­—æ•°' }
  }
  
  // 2. è·å–æ‹äººæ¡£æ¡ˆ
  const loverRes = await db.collection('lovers').doc(lover_id).get()
  const lover = loverRes.data[0]
  
  // 3. è·å–æœ€è¿‘20è½®å¯¹è¯
  const historyRes = await db.collection('chat_history')
    .where({ lover_id, user_id })
    .orderBy('round', 'desc')
    .limit(20)
    .get()
  const recentHistory = historyRes.data.reverse()
  
  // 4. è·å–è§’è‰²é…ç½®
  const characterConfig = getCharacterConfig(lover.character_id)
  
  // 5. æ„å»ºSystem Prompt
  const systemPrompt = buildSystemPrompt(characterConfig, lover)
  
  // 6. æ„å»ºæ¶ˆæ¯æ•°ç»„
  const messages = [
    { role: 'system', content: systemPrompt },
    ...formatHistory(recentHistory),
    { role: 'user', content: message }
  ]
  
  // 7. è®¡ç®—AIå›å¤å­—æ•°ä¸Šé™
  const maxReplyWords = getMaxReplyWords(lover.stage)
  
  // 8. è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹
  const aiResponse = await callDoubaoAPI(messages, maxReplyWords)
  const aiResult = JSON.parse(aiResponse)
  
  // 9. è®¡ç®—å­—æ•°æ¶ˆè€—
  const aiWordCount = aiResult.reply.length
  const totalCost = msgWordCount + aiWordCount
  
  // 10. æ›´æ–°ç”¨æˆ·å­—æ•°
  await db.collection('users').doc(user_id).update({
    words_balance: dbCmd.inc(-totalCost),
    words_total_used: dbCmd.inc(totalCost)
  })
  
  // 11. æ›´æ–°æ‹äººæ•°å€¼
  const newFavor = Math.max(0, Math.min(500, lover.favor_score + aiResult.favor_change))
  const newIntimacy = Math.max(0, Math.min(100, lover.intimacy_score + (aiResult.intimacy_change || 0)))
  const newTrust = Math.max(0, Math.min(100, lover.trust_score + (aiResult.trust_change || 0)))
  const newRomance = Math.max(0, Math.min(100, lover.romance_score + (aiResult.romance_change || 0)))
  
  // 12. æ£€æŸ¥é˜¶æ®µæ¨è¿›
  const stageResult = checkStageAdvance(lover, newFavor)
  
  await db.collection('lovers').doc(lover_id).update({
    favor_score: newFavor,
    intimacy_score: newIntimacy,
    trust_score: newTrust,
    romance_score: newRomance,
    total_rounds: dbCmd.inc(1),
    total_words_consumed: dbCmd.inc(totalCost),
    stage: stageResult.newStage || lover.stage,
    stage_name: stageResult.newStageName || lover.stage_name,
    last_chat_at: new Date()
  })
  
  // 13. ä¿å­˜å¯¹è¯è®°å½•
  await db.collection('chat_history').add({
    user_id,
    lover_id,
    round: lover.total_rounds + 1,
    messages: [
      { role: 'user', content: message, words_cost: msgWordCount, timestamp: new Date() },
      { role: 'assistant', content: aiResult.reply, words_cost: aiWordCount,
        emotion: aiResult.emotion, favor_change: aiResult.favor_change, timestamp: new Date() }
    ]
  })
  
  // 14. è¿”å›ç»“æœ
  return {
    code: 0,
    data: {
      reply: aiResult.reply,
      emotion: aiResult.emotion,
      favor_change: aiResult.favor_change,
      current_favor: newFavor,
      words_remaining: user.words_balance - totalCost,
      words_cost: totalCost,
      stage_advance: stageResult.advanced ? stageResult : null,
      event: aiResult.event_trigger,
      stage_hint: aiResult.stage_hint
    }
  }
}

// è°ƒç”¨è±†åŒ…å¤§æ¨¡å‹API
async function callDoubaoAPI(messages, maxTokens) {
  const response = await uniCloud.httpclient.request(
    'https://ml-api-cn-beijing.volces.com/api/v1/chat/completions',
    {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${process.env.DOUBAO_API_KEY}`,
        'Content-Type': 'application/json'
      },
      data: {
        model: 'doubao-seed-2-0-mini-260215',
        messages: messages,
        max_tokens: maxTokens * 2, // ä¸­æ–‡çº¦2token/å­—
        temperature: 0.8,
        top_p: 0.9
      },
      dataType: 'json'
    }
  )
  return response.data.choices[0].message.content
}

// æ ¹æ®é˜¶æ®µè·å–AIå›å¤å­—æ•°ä¸Šé™
function getMaxReplyWords(stage) {
  const limits = {
    1: 60, 2: 60,      // é™Œç”Ÿäºº~åˆè¯†
    3: 100, 4: 100,    // ç†Ÿæ‚‰~å¥½å‹
    5: 120, 6: 120, 7: 120,  // æš§æ˜§~æ‹äºº
    8: 150, 9: 150, 10: 150, 11: 150,  // çƒ­æ‹~ç»“å©š
    12: 120, 13: 120, 14: 120,  // å©šå
    15: 120, 16: 120, 17: 120, 18: 120, 19: 120, 20: 120
  }
  return limits[stage] || 100
}
```
